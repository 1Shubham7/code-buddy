{"ast":null,"code":"'use client';\n\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { unstable_useForkRef as useForkRef } from '@mui/utils';\nimport useList from '../useList';\nimport { useCompoundParent } from '../utils/useCompound';\nimport menuReducer from './menuReducer';\n\n/**\n *\n * Demos:\n *\n * - [Menu](https://mui.com/base-ui/react-menu/#hooks)\n *\n * API:\n *\n * - [useMenu API](https://mui.com/base-ui/react-menu/hooks-api/#use-menu)\n */\nexport default function useMenu(parameters = {}) {\n  const {\n    defaultOpen,\n    listboxRef: listboxRefProp,\n    open: openProp,\n    onItemsChange,\n    onOpenChange\n  } = parameters;\n  const listboxRef = React.useRef(null);\n  const handleRef = useForkRef(listboxRef, listboxRefProp);\n  const {\n    subitems,\n    contextValue: compoundComponentContextValue\n  } = useCompoundParent();\n  const subitemKeys = React.useMemo(() => Array.from(subitems.keys()), [subitems]);\n  const getItemDomElement = React.useCallback(itemId => {\n    var _subitems$get$ref$cur, _subitems$get;\n    if (itemId == null) {\n      return null;\n    }\n    return (_subitems$get$ref$cur = (_subitems$get = subitems.get(itemId)) == null ? void 0 : _subitems$get.ref.current) != null ? _subitems$get$ref$cur : null;\n  }, [subitems]);\n  const controlledProps = React.useMemo(() => ({\n    open: openProp\n  }), [openProp]);\n  const stateChangeHandler = React.useCallback((event, field, fieldValue, reason, state) => {\n    if (field === 'open') {\n      onOpenChange == null ? void 0 : onOpenChange(fieldValue);\n      if (fieldValue === true && state.highlightedValue !== null) {\n        var _subitems$get2;\n        (_subitems$get2 = subitems.get(state.highlightedValue)) == null || (_subitems$get2 = _subitems$get2.ref.current) == null ? void 0 : _subitems$get2.focus();\n      }\n    }\n  }, [onOpenChange, subitems]);\n  const {\n    dispatch,\n    getRootProps,\n    contextValue: listContextValue,\n    state: {\n      open,\n      highlightedValue\n    },\n    rootRef: mergedListRef\n  } = useList({\n    controlledProps,\n    disabledItemsFocusable: true,\n    focusManagement: 'DOM',\n    getItemDomElement,\n    getInitialState: () => ({\n      selectedValues: [],\n      highlightedValue: null,\n      open: defaultOpen != null ? defaultOpen : false\n    }),\n    isItemDisabled: id => {\n      var _subitems$get3;\n      return (subitems == null || (_subitems$get3 = subitems.get(id)) == null ? void 0 : _subitems$get3.disabled) || false;\n    },\n    items: subitemKeys,\n    getItemAsString: id => {\n      var _subitems$get4, _subitems$get5;\n      return ((_subitems$get4 = subitems.get(id)) == null ? void 0 : _subitems$get4.label) || ((_subitems$get5 = subitems.get(id)) == null || (_subitems$get5 = _subitems$get5.ref.current) == null ? void 0 : _subitems$get5.innerText);\n    },\n    rootRef: handleRef,\n    onItemsChange,\n    onStateChange: stateChangeHandler,\n    reducerActionContext: {\n      listboxRef\n    },\n    selectionMode: 'none',\n    stateReducer: menuReducer\n  });\n  React.useEffect(() => {\n    if (open && highlightedValue === subitemKeys[0]) {\n      var _subitems$get6;\n      (_subitems$get6 = subitems.get(subitemKeys[0])) == null || (_subitems$get6 = _subitems$get6.ref) == null || (_subitems$get6 = _subitems$get6.current) == null ? void 0 : _subitems$get6.focus();\n    }\n  }, [open, highlightedValue, subitems, subitemKeys]);\n  React.useEffect(() => {\n    var _listboxRef$current;\n    // set focus to the highlighted item (but prevent stealing focus from other elements on the page)\n    if ((_listboxRef$current = listboxRef.current) != null && _listboxRef$current.contains(document.activeElement) && highlightedValue !== null) {\n      var _subitems$get7;\n      subitems == null || (_subitems$get7 = subitems.get(highlightedValue)) == null || (_subitems$get7 = _subitems$get7.ref.current) == null ? void 0 : _subitems$get7.focus();\n    }\n  }, [highlightedValue, subitems]);\n  const getListboxProps = (otherHandlers = {}) => {\n    const rootProps = getRootProps(otherHandlers);\n    return _extends({}, otherHandlers, rootProps, {\n      role: 'menu'\n    });\n  };\n  React.useDebugValue({\n    subitems,\n    highlightedValue\n  });\n  return {\n    contextValue: _extends({}, compoundComponentContextValue, listContextValue),\n    dispatch,\n    getListboxProps,\n    highlightedValue,\n    listboxRef: mergedListRef,\n    menuItems: subitems,\n    open\n  };\n}","map":{"version":3,"names":["_extends","React","unstable_useForkRef","useForkRef","useList","useCompoundParent","menuReducer","useMenu","parameters","defaultOpen","listboxRef","listboxRefProp","open","openProp","onItemsChange","onOpenChange","useRef","handleRef","subitems","contextValue","compoundComponentContextValue","subitemKeys","useMemo","Array","from","keys","getItemDomElement","useCallback","itemId","_subitems$get$ref$cur","_subitems$get","get","ref","current","controlledProps","stateChangeHandler","event","field","fieldValue","reason","state","highlightedValue","_subitems$get2","focus","dispatch","getRootProps","listContextValue","rootRef","mergedListRef","disabledItemsFocusable","focusManagement","getInitialState","selectedValues","isItemDisabled","id","_subitems$get3","disabled","items","getItemAsString","_subitems$get4","_subitems$get5","label","innerText","onStateChange","reducerActionContext","selectionMode","stateReducer","useEffect","_subitems$get6","_listboxRef$current","contains","document","activeElement","_subitems$get7","getListboxProps","otherHandlers","rootProps","role","useDebugValue","menuItems"],"sources":["D:/Files/Web Dev Projects/Code Buddy/code-buddy/node_modules/@mui/base/useMenu/useMenu.js"],"sourcesContent":["'use client';\n\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { unstable_useForkRef as useForkRef } from '@mui/utils';\nimport useList from '../useList';\nimport { useCompoundParent } from '../utils/useCompound';\nimport menuReducer from './menuReducer';\n\n/**\n *\n * Demos:\n *\n * - [Menu](https://mui.com/base-ui/react-menu/#hooks)\n *\n * API:\n *\n * - [useMenu API](https://mui.com/base-ui/react-menu/hooks-api/#use-menu)\n */\nexport default function useMenu(parameters = {}) {\n  const {\n    defaultOpen,\n    listboxRef: listboxRefProp,\n    open: openProp,\n    onItemsChange,\n    onOpenChange\n  } = parameters;\n  const listboxRef = React.useRef(null);\n  const handleRef = useForkRef(listboxRef, listboxRefProp);\n  const {\n    subitems,\n    contextValue: compoundComponentContextValue\n  } = useCompoundParent();\n  const subitemKeys = React.useMemo(() => Array.from(subitems.keys()), [subitems]);\n  const getItemDomElement = React.useCallback(itemId => {\n    var _subitems$get$ref$cur, _subitems$get;\n    if (itemId == null) {\n      return null;\n    }\n    return (_subitems$get$ref$cur = (_subitems$get = subitems.get(itemId)) == null ? void 0 : _subitems$get.ref.current) != null ? _subitems$get$ref$cur : null;\n  }, [subitems]);\n  const controlledProps = React.useMemo(() => ({\n    open: openProp\n  }), [openProp]);\n  const stateChangeHandler = React.useCallback((event, field, fieldValue, reason, state) => {\n    if (field === 'open') {\n      onOpenChange == null ? void 0 : onOpenChange(fieldValue);\n      if (fieldValue === true && state.highlightedValue !== null) {\n        var _subitems$get2;\n        (_subitems$get2 = subitems.get(state.highlightedValue)) == null || (_subitems$get2 = _subitems$get2.ref.current) == null ? void 0 : _subitems$get2.focus();\n      }\n    }\n  }, [onOpenChange, subitems]);\n  const {\n    dispatch,\n    getRootProps,\n    contextValue: listContextValue,\n    state: {\n      open,\n      highlightedValue\n    },\n    rootRef: mergedListRef\n  } = useList({\n    controlledProps,\n    disabledItemsFocusable: true,\n    focusManagement: 'DOM',\n    getItemDomElement,\n    getInitialState: () => ({\n      selectedValues: [],\n      highlightedValue: null,\n      open: defaultOpen != null ? defaultOpen : false\n    }),\n    isItemDisabled: id => {\n      var _subitems$get3;\n      return (subitems == null || (_subitems$get3 = subitems.get(id)) == null ? void 0 : _subitems$get3.disabled) || false;\n    },\n    items: subitemKeys,\n    getItemAsString: id => {\n      var _subitems$get4, _subitems$get5;\n      return ((_subitems$get4 = subitems.get(id)) == null ? void 0 : _subitems$get4.label) || ((_subitems$get5 = subitems.get(id)) == null || (_subitems$get5 = _subitems$get5.ref.current) == null ? void 0 : _subitems$get5.innerText);\n    },\n    rootRef: handleRef,\n    onItemsChange,\n    onStateChange: stateChangeHandler,\n    reducerActionContext: {\n      listboxRef\n    },\n    selectionMode: 'none',\n    stateReducer: menuReducer\n  });\n  React.useEffect(() => {\n    if (open && highlightedValue === subitemKeys[0]) {\n      var _subitems$get6;\n      (_subitems$get6 = subitems.get(subitemKeys[0])) == null || (_subitems$get6 = _subitems$get6.ref) == null || (_subitems$get6 = _subitems$get6.current) == null ? void 0 : _subitems$get6.focus();\n    }\n  }, [open, highlightedValue, subitems, subitemKeys]);\n  React.useEffect(() => {\n    var _listboxRef$current;\n    // set focus to the highlighted item (but prevent stealing focus from other elements on the page)\n    if ((_listboxRef$current = listboxRef.current) != null && _listboxRef$current.contains(document.activeElement) && highlightedValue !== null) {\n      var _subitems$get7;\n      subitems == null || (_subitems$get7 = subitems.get(highlightedValue)) == null || (_subitems$get7 = _subitems$get7.ref.current) == null ? void 0 : _subitems$get7.focus();\n    }\n  }, [highlightedValue, subitems]);\n  const getListboxProps = (otherHandlers = {}) => {\n    const rootProps = getRootProps(otherHandlers);\n    return _extends({}, otherHandlers, rootProps, {\n      role: 'menu'\n    });\n  };\n  React.useDebugValue({\n    subitems,\n    highlightedValue\n  });\n  return {\n    contextValue: _extends({}, compoundComponentContextValue, listContextValue),\n    dispatch,\n    getListboxProps,\n    highlightedValue,\n    listboxRef: mergedListRef,\n    menuItems: subitems,\n    open\n  };\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}